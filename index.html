<!DOCTYPE html>
<html lang="hu">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Az ember trag√©di√°ja - Interakt√≠v Jegyzet (4-10. sz√≠n)</title>

<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
crossorigin=""/>
<style>
body {
font-family: Arial, sans-serif;
line-height: 1.6;
margin: 0;
padding: 20px;
background-color: #f4f4f4;
color: #333;
}
.container {
max-width: 900px;
margin: auto;
background: #fff;
padding: 20px;
border-radius: 8px;
box-shadow: 0 0 10px rgba(0,0,0,0.1);
}
#menu {
margin-bottom: 20px;
padding-bottom: 10px;
border-bottom: 1px solid #ddd;
text-align: center;
}
#menu button {
padding: 10px 15px;
margin: 0 10px;
cursor: pointer;
background-color: #5cb85c; 
color: white;
border: none;
border-radius: 5px;
font-size: 16px;
}
#menu button:hover {
background-color: #4cae4c;
}
.view {
margin-top: 20px;
}
#mapView h2, #timelineView h2 {
text-align: center;
color: #337ab7; 
}

#timelineView ul li {
display: block;
width: 90%;
max-width: 300px;
margin: 10px auto;
padding: 12px;
background-color: #f0ad4e; 
color: white;
border: none;
border-radius: 5px;
cursor: pointer;
font-size: 1em;
text-align: center;
}
#timelineView ul li:hover {
background-color: #ec971f;
}
#timelineView ul {
list-style-type: none;
padding: 0;
}
#sceneDetailView {
margin-top: 20px;
padding: 15px;
border: 1px solid #ddd;
border-radius: 5px;
background-color: #f9f9f9;
}
#sceneDetailView h3 {
color: #d9534f; 
margin-top: 0;
}
#sceneDetailView .back-button {
padding: 8px 12px;
background-color: #5bc0de; 
color: white;
border: none;
border-radius: 5px;
cursor: pointer;
margin-bottom: 15px;
}
#sceneDetailView .back-button:hover {
background-color: #46b8da;
}

.scene-content-item h4 { color: #337ab7; border-bottom: 1px solid #eee; padding-bottom: 5px; margin-top:0;}
.scene-content-item h5 { color: #555; margin-top: 15px; margin-bottom: 5px;}
.scene-content-item p { margin-bottom: 10px; }
.scene-content-item ul { margin-left: 20px; margin-bottom: 10px;}
.scene-content-item strong { color: #d9534f; }
.scene-content-item em { font-style: italic; color: #555; }

    #interactiveMap {
        height: 450px; 
        width: 100%;
        border: 1px solid #ccc;
        border-radius: 5px;
        margin-bottom:20px;
    }
    .map-info-text {
        font-style: italic;
        color: #777;
        text-align: center;
        margin-bottom: 10px;
    }
</style>
</head>
<body>
<div class="container">
<header style="text-align:center; margin-bottom:20px;">
<h1>Az ember trag√©di√°ja - Interakt√≠v Jegyzet</h1>
<p>Mad√°ch Imre m≈±v√©nek 4-10. sz√≠ne</p>
</header>
<div id="menu">
        <button onclick="showView('mapView')">üó∫Ô∏è T√©rk√©p N√©zet</button>
        <button onclick="showView('timelineView')">‚è≥ Id≈ëvonal N√©zet</button>
    </div>

    <div id="mapView" class="view">
        <h2>T√©rk√©p N√©zet</h2>
        <p class="map-info-text">Kattints egy jel√∂l≈ëre a t√©rk√©pen a helysz√≠n r√©szletei√©rt!</p>
        <div id="interactiveMap"></div>
    </div>

    <div id="timelineView" class="view" style="display:none;">
        <h2>Id≈ëvonal N√©zet</h2>
        <ul>
            <li onclick="showSceneDetails('egyiptom')">üìú 4. Sz√≠n: Egyiptom</li>
            <li onclick="showSceneDetails('athen')">üìú 5. Sz√≠n: Ath√©n</li>
            <li onclick="showSceneDetails('roma')">üìú 6. Sz√≠n: R√≥ma</li>
            <li onclick="showSceneDetails('konstantinapoly')">üìú 7. Sz√≠n: Konstantin√°poly</li>
            <li onclick="showSceneDetails('praga1')">üìú 8. Sz√≠n: Pr√°ga I.</li>
            <li onclick="showSceneDetails('parizs')">üìú 9. Sz√≠n: P√°rizs</li>
            <li onclick="showSceneDetails('praga2')">üìú 10. Sz√≠n: Pr√°ga II.</li>
        </ul>
    </div>

    <div id="sceneDetailView" style="display:none;">
        <button class="back-button" onclick="goBack()">‚Ü©Ô∏è Vissza</button>
        <h3 id="sceneTitleDetail"></h3>
        <div id="sceneContentDetail"></div>
    </div>

    
    <div id="sceneStore" style="display:none;">
        <div id="content-egyiptom" class="scene-content-item">
            <h4>4. Sz√≠n: Egyiptom (T√©zis)</h4>
            <p><strong>Kor √©s helysz√≠n:</strong> √ìkori Egyiptom.</p>
            <h5>Szerepl≈ëk:</h5>
            <ul>
                <li><strong>√Åd√°m:</strong> Ifj√∫ f√°ra√≥k√©nt jelenik meg, a hatalom cs√∫cs√°n.</li>
                <li><strong>√âva:</strong> Egy rabszolgan≈ë feles√©gek√©nt t≈±nik fel.</li>
                <li><strong>Lucifer:</strong> √Åd√°m minisztere, l√°tsz√≥lag t√°mogatja a f√°ra√≥ t√∂rekv√©seit.</li>
            </ul>
            <h5>K√∂zponti eszme:</h5>
            <p>Az egy√©ni dics≈ës√©g, a hatalom √©s a halhatatlans√°g v√°gya. √Åd√°m piramist √©p√≠ttet rabszolg√°k milli√≥ival, hogy √∂r√∂kk√© fennmaradjon a neve. √ögy √©rzi, ≈ë mindent ural, de k√∂zben mag√°nyos √©s boldogtalan.</p>
            <h5>Cselekm√©ny √©s konfliktus:</h5>
            <ul>
                <li>Egyiptomban rabszolg√°k sokas√°ga √©p√≠ti a f√°ra√≥ g√∫l√°j√°t (piramis√°t), √©s sokan belehalnak a megfesz√≠tett munk√°ba.</li>
                <li>Egy haldokl√≥ rabszolga feles√©ge, √âva, meg√°tkozza a f√°ra√≥t. A rabszolga utols√≥ szavai (<em>"√âlett√°rsam! h≈ësi, magasztos l√©ny..."</em>) r√°d√∂bbentik √Åd√°mot a szenved√©sre, amit hatalma okoz.</li>
                <li>√Åd√°m ki√°br√°ndul a dics≈ës√©gb≈ël, amely ennyi szenved√©ssel j√°r. √âva szavai nyom√°n az egyenl≈ës√©g √©s a k√∂z√∂ss√©g gondolata mer√ºl fel benne.</li>
            </ul>
            <h5>√Åd√°m felismer√©se/v√°gya a sz√≠n v√©g√©n:</h5>
            <p>Az egy√©ni dics≈ës√©g helyett egy olyan t√°rsadalmat keres, ahol a n√©p szabadon d√∂nthet sors√°r√≥l. V√°gyik a <em>"milli√≥k egy miatt"</em> elv helyett a <em>"mindenki egyenl≈ë"</em> √°llapotra.</p>
        </div>

        <div id="content-athen" class="scene-content-item">
            <h4>5. Sz√≠n: Ath√©n (Antit√©zis)</h4>
            <p><strong>Kor √©s helysz√≠n:</strong> Az √≥kori Ath√©n, a demokr√°cia sz√≠ntere ("D√©mosz uralma").</p>
            <h5>Szerepl≈ëk:</h5>
            <ul>
                <li><strong>√Åd√°m:</strong> Milti√°d√©szk√©nt, a perzs√°k felett gy≈ëzelmet arat√≥ hadvez√©rk√©nt jelenik meg.</li>
                <li><strong>√âva:</strong> Luciak√©nt, Milti√°d√©sz feles√©gek√©nt, aki fi√°val, Kim√≥nnal v√°rja haza f√©rj√©t.</li>
                <li><strong>Lucifer:</strong> Harcosk√©nt, majd a n√©p hangulat√°t √Åd√°m ellen ford√≠t√≥ h√≠rhoz√≥k√©nt (demag√≥gk√©nt) tev√©kenykedik.</li>
            </ul>
            <h5>K√∂zponti eszme:</h5>
            <p>A szabads√°g, az egyenl≈ës√©g, a demokr√°cia. √Åd√°m felszabad√≠totta a n√©pet, a polg√°rok jogokat gyakorolnak.</p>
            <h5>Cselekm√©ny √©s konfliktus:</h5>
            <ul>
                <li>M√≠g Milti√°d√©sz-√Åd√°m a v√°ros√©rt harcol √©s gy≈ëzelmet arat, a demag√≥gok (k√∂zt√ºk Lucifer) fell√°z√≠tj√°k ellene a n√©pet.</li>
                <li>Mad√°ch negat√≠v k√©pet fest a n√©pr≈ël: a t√∂meg k√∂nnyen befoly√°solhat√≥, h√°l√°tlan √©s megvesztegethet≈ë (pl. Kriszposz, aki h√°rom gyermek√©re hivatkozva k√©r szavazatokat: <em>"Aki √∫gy szavaz, az engem ment meg."</em>).</li>
                <li>A demag√≥gok vissza√©lnek a szabads√°gjogokkal.</li>
                <li>Milti√°d√©sz hazat√©rve szembes√ºl a n√©p √≠t√©let√©vel: √°rul√°ssal v√°dolj√°k √©s hal√°lra ("n√©ppadra") √≠t√©lik.</li>
            </ul>
            <h5>√Åd√°m felismer√©se/v√°gya a sz√≠n v√©g√©n:</h5>
            <p>Csal√≥dik a n√©p ingatags√°g√°ban √©s a demokr√°cia torz megval√≥sul√°s√°ban. Eld√∂nti, hogy a k√∂z√ºgyekt≈ël t√°vol marad, √©s passz√≠v szeml√©l≈ë szerepre v√°lt. Megfogalmazza a hedonista √©letfelfog√°st: <em>"√ñr√ºlj, mulass, tagadd meg az er√©nyt."</em></p>
        </div>

        <div id="content-roma" class="scene-content-item">
            <h4>6. Sz√≠n: R√≥ma (Szint√©zis fel√©, de √∫jabb t√©zis cs√≠r√°ja)</h4>
            <p><strong>Kor √©s helysz√≠n:</strong> A cs√°sz√°rkori R√≥ma hanyatl√≥ id≈ëszaka, a f√©ktelen √©lvezetek √©s a ki√ºresed√©s sz√≠ntere.</p>
            <h5>Szerepl≈ëk:</h5>
            <ul>
                <li><strong>√Åd√°m:</strong> Sergiolusk√©nt, egy gazdag, el≈ëkel≈ë r√≥mai arisztokratak√©nt jelenik meg.</li>
                <li><strong>√âva:</strong> J√∫liak√©nt, egy hasonl√≥an l√©ha √©letet √©l≈ë n≈ëk√©nt.</li>
                <li><strong>Lucifer:</strong> Mil√≥k√©nt, Sergiolus mulat√≥t√°rsak√©nt.</li>
                <li><strong>Hippia:</strong> Lucifer t√°rsa, egy kurtiz√°n.</li>
            </ul>
            <h5>K√∂zponti eszme:</h5>
            <p>A hedonizmus, a gy√∂ny√∂r√∂k hajszol√°sa, az "√©lj a m√°nak" (carpe diem) elve. Az el≈ëkel≈ë r√≥maiak a k√∂zgy≈±l√©sekt≈ël t√°vol, parttalan sz√≥rakoz√°ssal t√∂ltik idej√ºket.</p>
            <h5>Cselekm√©ny √©s konfliktus:</h5>
            <ul>
                <li>√Åd√°m √©s bar√°tai f√©ktelen orgi√°kban √©s mulatoz√°sban vesznek r√©szt, mik√∂zben a pestis puszt√≠t a v√°rosban.</li>
                <li>Hippia, a gy√∂ny√∂r√∂k hajszol√°s√°nak √©s az √©let tagad√°s√°nak szimb√≥lumak√©nt, megcs√≥kol egy pestises halottat, √©s iszony√∫ f√°jdalmak k√∂z√∂tt meghal.</li>
                <li>√Åd√°m √©s √âva is ezt az √©letet √©lik, b√°r n√©ha visszagondolnak a paradicsomi √°llapotokra, jelezve el√©gedetlens√©g√ºket.</li>
                <li>A sz√≠n v√©g√©n megjelenik P√©ter apostol, aki a kereszt√©nys√©g √∫j eszm√©j√©t hirdeti: a testv√©ris√©get, amelynek vez√©relve a szeretet.</li>
            </ul>
            <h5>√Åd√°m felismer√©se/v√°gya a sz√≠n v√©g√©n:</h5>
            <p>Ki√°br√°ndul az √∂nc√©l√∫ √©lvezetekb≈ël, felismeri azok √ºress√©g√©t √©s puszt√≠t√≥ volt√°t. Az √∫j eszme, a testv√©ris√©g √©s a szeretet felkelti √©rdekl≈ëd√©s√©t, √©s √Åd√°mot a <em>"lovagi im√°dat"</em> (egy magasabb rend≈± eszme ir√°nti lelkesed√©s) fogja el.</p>
        </div>

        <div id="content-konstantinapoly" class="scene-content-item">
            <h4>7. Sz√≠n: Konstantin√°poly (Biz√°nc)</h4>
            <p><strong>Kor √©s helysz√≠n:</strong> A korai kereszt√©nys√©g egyik k√∂zpontja, Biz√°nc (Konstantin√°poly), a vall√°si vit√°k √©s a dogmatizmus sz√≠ntere.</p>
            <h5>Szerepl≈ëk:</h5>
            <ul>
                <li><strong>√Åd√°m:</strong> Tankr√©dk√©nt, egy lelkes keresztes lovagk√©nt √©rkezik.</li>
                <li><strong>√âva:</strong> Iz√≥rak√©nt, egy ap√°cak√©nt jelenik meg, akit a kolostor falai v√°lasztanak el √Åd√°mt√≥l.</li>
                <li><strong>Lucifer:</strong> √Åd√°m fegyverhordoz√≥jak√©nt k√≠s√©ri.</li>
            </ul>
            <h5>K√∂zponti eszme:</h5>
            <p>A kereszt√©nys√©g eszm√©je, a testv√©ris√©g √©s a szeretet ‚Äì azonban annak eltorzult, int√©zm√©nyes√ºlt form√°ja.</p>
            <h5>Cselekm√©ny √©s konfliktus:</h5>
            <ul>
                <li>√Åd√°m azt tapasztalja, hogy a kereszt√©nys√©g eredeti, tiszta eszm√©it eltorz√≠tott√°k. A vall√°soss√°g dogmatikuss√°, kicsinyess√© √©s embertelenn√© v√°lt.</li>
                <li>Az egyh√°z k√©pvisel≈ëi jelent√©ktelen teol√≥giai vit√°kkal (pl. <em>"homousion"</em> vs. <em>"homoiusion"</em> ‚Äì azaz, hogy a Fi√∫ egyl√©nyeg≈±-e az Aty√°val, vagy csak hasonl√≥ l√©nyeg≈±) vannak elfoglalva, mik√∂zben embereket √ºld√∂znek eretneks√©g v√°dj√°val.</li>
                <li>√Åd√°m √©s √âva nem tal√°lhat egym√°sra a vall√°si fanatizmus √©s a merev szab√°lyok miatt.</li>
            </ul>
            <h5>√Åd√°m felismer√©se/v√°gya a sz√≠n v√©g√©n:</h5>
            <p>Csal√≥dik a kereszt√©nys√©g int√©zm√©nyes√ºlt, eltorzult form√°j√°ban. Ki√°br√°ndul a nagy eszm√©k√©rt v√≠vott harcb√≥l, √©s √∫gy √©rzi, a tudom√°ny k√≠n√°lhat mened√©ket √©s √©rtelmet.</p>
        </div>

        <div id="content-praga1" class="scene-content-item">
            <h4>8. Sz√≠n: Pr√°ga I.</h4>
            <p><strong>Kor √©s helysz√≠n:</strong> A renesz√°nsz Pr√°ga, II. Rudolf cs√°sz√°r udvara.</p>
            <h5>Szerepl≈ëk:</h5>
            <ul>
                <li><strong>√Åd√°m:</strong> Johannes Kepler, a h√≠res csillag√°sz √©s matematikus.</li>
                <li><strong>√âva:</strong> Borb√°lak√©nt, Kepler feles√©gek√©nt, aki azonban k√∂nnyelm≈± √©s kicsapong√≥ √©letet √©l.</li>
                <li><strong>Lucifer:</strong> Kepler famulusak√©nt (seg√©djek√©nt) van jelen.</li>
            </ul>
            <h5>K√∂zponti eszme:</h5>
            <p>A tudom√°ny, az ismeretszerz√©s, a vil√°g meg√©rt√©s√©nek v√°gya. √Åd√°m a szeml√©l≈ëd√©s √©s a tudom√°nyos kutat√°s fel√© fordul.</p>
            <h5>Cselekm√©ny √©s konfliktus:</h5>
            <ul>
                <li>Kepler-√Åd√°m anyagi gondokkal k√ºzd, kutat√°sait nem tudja finansz√≠rozni. K√©nytelen a kor babon√°s elv√°r√°sainak megfelelni: horoszk√≥pokat k√©sz√≠t √©s j√≥sl√°sb√≥l √©l, amit m√©lys√©gesen megvet.</li>
                <li>Feles√©ge, Borb√°la (√âva) nem √©rti meg f√©rje tudom√°nyos t√∂rekv√©seit, k√∂nnyelm≈±, kicsapong√≥ √©letet √©l, egy udvaronccal csalja f√©rj√©t, √©s f√©rje p√©nz√©t k√∂lti. Kepler feles√©ge miatt is megal√°ztat√°soknak van kit√©ve.</li>
                <li>A tud√≥s mag√°nyos, k√∂rnyezete nem √©rti meg, munk√°ja nem kap elismer√©st.</li>
            </ul>
            <h5>√Åd√°m felismer√©se/√°llapota a sz√≠n v√©g√©n:</h5>
            <p>Csal√≥dik a tud√≥s l√©t neh√©zs√©geiben, abban, hogy a tudom√°ny sem hozza meg a v√°rt boldogs√°got vagy t√°rsadalmi elismer√©st. A feles√©g√©ben is m√©lys√©gesen csal√≥dnia kell. A val√≥s√°gb√≥l egy √∫jabb √°lomba menek√ºl.</p>
        </div>

        <div id="content-parizs" class="scene-content-item">
            <h4>9. Sz√≠n: P√°rizs ("√Ålom az √°lomban")</h4>
            <p><strong>Kor √©s helysz√≠n:</strong> A francia forradalom P√°rizsa. Ez a sz√≠n Kepler-√Åd√°m √°lma.</p>
            <h5>Szerepl≈ëk:</h5>
            <ul>
                <li><strong>√Åd√°m:</strong> Dantonk√©nt, a forradalom egyik vez√©ralakjak√©nt jelenik meg.</li>
                <li><strong>√âva:</strong> K√©t alakban is megjelenik:
                    <ol>
                        <li>Egy arisztokrata m√°rkin≈ëk√©nt a v√©rpadon, aki b√ºszk√©n n√©z szembe a hal√°llal.</li>
                        <li>Egy k√∂z√∂ns√©ges, v√©rszomjas forradalm√°rn≈ëk√©nt, aki a t√∂meggel egy√ºtt ujjong a kiv√©gz√©seken ‚Äì ezt az √âva-alakot √Åd√°m elutas√≠tja.</li>
                    </ol>
                </li>
                <li><strong>Lucifer:</strong> H√≥h√©rk√©nt tev√©kenykedik a guillotine mellett.</li>
            </ul>
            <h5>K√∂zponti eszme:</h5>
            <p><em>"Egyenl≈ës√©g, testv√©ris√©g, szabads√°g!"</em> ‚Äì a francia forradalom jelszavai.</p>
            <h5>Cselekm√©ny √©s konfliktus:</h5>
            <ul>
                <li>Danton-√Åd√°m lelkesen hirdeti a forradalmi eszm√©ket, de hamarosan szembes√ºlnie kell a forradalom √°rnyoldalaival: a terrorral, az er≈ëszakkal √©s a t√∂meges kiv√©gz√©sekkel.</li>
                <li>A "szent" eszme nev√©ben elk√∂vetett kegyetlens√©gek ki√°br√°nd√≠tj√°k.</li>
                <li>A t√∂meg itt is befoly√°solhat√≥nak, ingatagnak √©s v√©rszomjasnak mutatkozik.</li>
                <li>V√©g√ºl mag√°t Dantont is a forradalom √°rul√≥j√°nak b√©lyegzik √©s kiv√©gzik Robespierre √©s Saint-Just parancs√°ra.</li>
            </ul>
            <h5>√Åd√°m felismer√©se/√°llapota a sz√≠n v√©g√©n:</h5>
            <p>√Åd√°m itt nem els≈ësorban az eszm√©b≈ël √°br√°ndul ki (hiszen annak nemess√©g√©t elismeri), hanem annak v√©res √©s kegyetlen megval√≥sul√°s√°b√≥l, valamint saj√°t buk√°s√°b√≥l. A forradalom felfalja saj√°t gyermekeit.</p>
        </div>

        <div id="content-praga2" class="scene-content-item">
            <h4>10. Sz√≠n: Pr√°ga II.</h4>
            <p><strong>Kor √©s helysz√≠n:</strong> Ism√©t Pr√°ga, Kepler lak√°sa. √Åd√°m fel√©bred a p√°rizsi √°lomb√≥l.</p>
            <h5>Szerepl≈ëk:</h5>
            <ul>
                <li><strong>√Åd√°m:</strong> Johannes Kepler.</li>
                <li><strong>√âva:</strong> Borb√°la, Kepler feles√©ge.</li>
                <li><strong>Lucifer:</strong> Kepler famulusa.</li>
                <li><strong>Tan√≠tv√°ny:</strong> Kepler egyik lelkes, fiatal tan√≠tv√°nya.</li>
            </ul>
            <h5>K√∂zponti eszme:</h5>
            <p>A tudom√°ny √©rtelm√©nek √©s a halad√°s lehet≈ës√©g√©nek √∫jragondol√°sa a forradalmi √°lom tapasztalatai ut√°n.</p>
            <h5>Cselekm√©ny √©s konfliktus:</h5>
            <ul>
                <li>Kepler-√Åd√°m borzadva, de egyben a forradalmi eszm√©k nagys√°g√°t√≥l leny≈±g√∂zve gondol vissza p√°rizsi √°lm√°ra (<em>"Nagyot v√©geztem √©s mer√©szet √°lmod√°m"</em>).</li>
                <li>Megjelenik egy tan√≠tv√°nya, aki lelkesedik a tudom√°ny√©rt √©s annak j√∂v≈ëj√©√©rt. Kepler azonban ki√°br√°ndults√°ggal, √≥vatoss√°ggal fogadja, mondv√°n, a tud√°s vesz√©lyes lehet, √©s a t√∂meg √∫gysem √©rti meg annak val√≥di jelent≈ës√©g√©t.</li>
                <li>Feles√©ge, Borb√°la (√âva) is megjelenik, ≈ë is ki√°br√°ndult k√∂nnyelm≈± √©let√©b≈ël √©s szeret≈ëib≈ël, √©s visszav√°gyik f√©rj√©hez, a nyugodt otthonba.</li>
            </ul>
            <h5>√Åd√°m felismer√©se/√°llapota a sz√≠n v√©g√©n:</h5>
            <p>√Åd√°m a p√°rizsi √°lom ellen√©re, vagy √©ppen annak hat√°s√°ra, bizakod√≥bban kezd tekinteni a j√∂v≈ëbe. B√°r a tudom√°ny √∂nmag√°ban √©s a forradalmi eszm√©k er≈ëszakos megval√≥sul√°sa is ki√°br√°nd√≠totta, m√©gis van benne rem√©ny a halad√°sra, egy √∫jabb, tal√°n tiszt√°bb forma keres√©s√©re. A sz√≠n v√©g√©n √∫jra a j√∂v≈ë fel√© tekint, Lucifer pedig √∫jabb √°lomkorszakot √≠g√©r neki, ez√∫ttal Londonba, a kapitalizmus √©s az ipari forradalom vil√°g√°ba.</p>
        </div>
    </div>
</div>


<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
 integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
 crossorigin=""></script>
<script>
    let currentView = 'mapView';
    let map;
    let mapInitialized = false;

    const sceneLocations = [
        { key: 'egyiptom', name: 'Egyiptom (4. sz√≠n)', coords: [30.0444, 31.2357], zoom: 5 },
        { key: 'athen', name: 'Ath√©n (5. sz√≠n)', coords: [37.9838, 23.7275], zoom: 6 },
        { key: 'roma', name: 'R√≥ma (6. sz√≠n)', coords: [41.9028, 12.4964], zoom: 6 },
        { key: 'konstantinapoly', name: 'Konstantin√°poly (7. sz√≠n)', coords: [41.0082, 28.9784], zoom: 6 },
        { key: 'praga1', name: 'Pr√°ga I. (8. sz√≠n)', coords: [50.0755, 14.4378], zoom: 6 },
        { key: 'parizs', name: 'P√°rizs (9. sz√≠n)', coords: [48.8566, 2.3522], zoom: 6 },
        { key: 'praga2', name: 'Pr√°ga II. (10. sz√≠n)', coords: [50.0755, 14.4378], zoom: 6 }
    ];

    function initializeMap() {
        if (!mapInitialized) {

            map = L.map('interactiveMap').setView([48.6, 19.5], 4);

            L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {
                attribution: '¬© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors ¬© <a href="https://carto.com/attributions">CARTO</a>',
                subdomains: 'abcd',
                maxZoom: 19
            }).addTo(map);


            sceneLocations.forEach(location => {
                const marker = L.marker(location.coords).addTo(map);
                marker.bindTooltip(location.name);
                marker.on('click', () => {
                    showSceneDetails(location.key);
                });
            });
            mapInitialized = true;
        }
    }

    function showView(viewId) {
        document.getElementById('mapView').style.display = 'none';
        document.getElementById('timelineView').style.display = 'none';
        document.getElementById('sceneDetailView').style.display = 'none';
        document.getElementById(viewId).style.display = 'block';
        currentView = viewId;

        if (viewId === 'mapView') {
            initializeMap();

            if (map) {
                setTimeout(() => { map.invalidateSize() }, 100);
            }
        }
    }

    function showSceneDetails(sceneKey) {
        const sceneContentHTML = document.getElementById('content-' + sceneKey).innerHTML;
        const sceneTitleFromContent = document.getElementById('content-' + sceneKey).querySelector('h4').innerText;

        document.getElementById('sceneTitleDetail').innerText = sceneTitleFromContent;
        document.getElementById('sceneContentDetail').innerHTML = sceneContentHTML;

        document.getElementById('mapView').style.display = 'none';
        document.getElementById('timelineView').style.display = 'none';
        document.getElementById('sceneDetailView').style.display = 'block';
    }

    function goBack() {
        document.getElementById('sceneDetailView').style.display = 'none';
        document.getElementById(currentView).style.display = 'block';

        if (currentView === 'mapView' && map) {
             setTimeout(() => { map.invalidateSize() }, 100);
        }
    }

    document.addEventListener('DOMContentLoaded', () => {
        showView('mapView');
    });
</script>
</body>
</html>